- hosts: test_node
  
  tasks:
    - name: Waits until remote system is usable
      wait_for_connection:
        sleep: 5

    - name: Read variables
      include_vars:
        file: vars.yml

    - name: Create file
      copy:
        src: /etc/os-release
        dest: /tmp/{{ file_name }}

    - name: Check file
      stat:
        path: /tmp/{{ file_name }}
      register: st
    
    - name: File checksum
      debug:
        var: st.stat.checksum
      