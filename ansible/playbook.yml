- hosts: test_node
  
  tasks:
    - name: Read variables
      include_vars:
        file: vars.yml

    - name: Display info
      debug:
        msg: "The hostname is {{ ansible_net_hostname }} and the OS is {{ ansible_net_version }}"

    - name: Create file
      copy:
        src: /etc/os-release
        dest: /tmp/{{ file_name }}

    - name: Check file
      stat:
        path: /tmp/{{ file_name }}
      register: st
    
    - name: File checksum
      debug:
        var: st.stat.checksum
      